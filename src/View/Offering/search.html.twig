{% extends 'layout.html.twig' %}
{% block stylesheet %}
	{# include css files for boostrap from CDN#}
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
{% endblock %}
{% block content %}
	<div class='mx-auto mt-4 w-75 text-center container'>
		<h2>Recherche d'annonces</h2>
		<div class='row'>
			<div class='mx-auto col-sm-8 col-md-8 col-lg-6'>

				<h3 class="mt-4">Recherche par catégorie</h3>
				<form method="POST" class="bg-light rounded mx-auto p-4">
					<div class="mb-4">
						<label for="category">Catégorie:
						</label>
						<select id="category" name="category">
							<option value="default" disabled>--Sélectionnez une catégorie--</option>
							{% for category in categories %}
								<option value="{{ category.name }}">{{ category.name }}</option>
							{% endfor %}
						</select>
					</div>
					<div class="mb-4">
						<label for="city">Ville:</label>
						<input type="text" id="city" name="city">
					</div>
					{% if errors is defined %}
						{% for error in errors %}
							<p>{{error}}
							</p>
						{% endfor %}
					{% endif %}
					<input type="submit" value="Search">
				</form>
			</div>
			<div class='mx-auto col-md-8 col-lg-6'>
				{% if offers %}

					<h3 class="mt-4">Résultats:</h3>
					{% for offer in offers %}
						<div class="bg-light rounded border border-muted mx-auto p-4 container-sm mb-4 text-left">
							<h4 class="text-primary">{{offer.title}}</h4>
							<p class="mb-2 font-italic">{{offer.forname ~ " " ~ offer.name}}
							</p>
							<p>
								<mark>{{offer.category}}</mark>
							</p>
							<p class="bg-white p-2">{{offer.description}}
							</p>
							<a href="#">Contacter</a>
						</div>

					{% endfor %}

				{% endif %}
			</div>
		</div>


	</div>

{% endblock %}
